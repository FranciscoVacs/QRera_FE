
<div id="tTypeList">
  <mat-accordion>
    <mat-expansion-panel *ngFor="let tickettype of tickettypes; index as i"  (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
      <mat-expansion-panel-header>
        <mat-panel-title> Tipo de ticket {{i+1}} </mat-panel-title>
        <mat-panel-description> Nombre: {{tickettype.ticketType_name}} </mat-panel-description>
      </mat-expansion-panel-header>
        <p>Fecha inicio: {{tickettype.begin_datetime}}</p>
        <p>Fecha fin: {{tickettype.finish_datetime}}</p>
        <p>Precio: {{tickettype.price}}</p>
        <p>Cantidad máxima: {{tickettype.max_quantity}}</p>
    </mat-expansion-panel>
  </mat-accordion>
</div>

<button mat-fab (click)="toggleForm()" *ngIf="!isFormActivated && isEditable" type="button">
  <mat-icon class="material-symbols-outlined">add</mat-icon>
</button>

<div *ngIf="isFormActivated">
  <h1>Nuevo tipo de ticket</h1>

<form [formGroup]="tickettypeForm" (ngSubmit)="onSubmitTickettype()">

  <mat-form-field>
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="ticketType_name" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Fecha de inicio</mat-label>
    <input matInput [matDatepicker]="picker1" formControlName="begin_datetime">
    <mat-hint>MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
    <mat-datepicker #picker1></mat-datepicker>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Fecha de fin</mat-label>
    <input matInput [matDatepicker]="picker2" formControlName="finish_datetime">
    <mat-hint>MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
    <mat-datepicker #picker2></mat-datepicker>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Precio</mat-label>
    <input type="number" matInput formControlName="price" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Cantidad máxima</mat-label>
    <input type="number" matInput formControlName="max_quantity" />
  </mat-form-field>

  <button mat-stroked-button type="submit" [disabled]="!tickettypeForm.valid" (click)="toggleForm()">
    Cargar Ticket
  </button>
</form>
</div>